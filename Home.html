<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Campus Connect — Student App</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <header class="topbar">
    <h1>Campus Connect</h1>
    <nav class="top-actions">
      <input id="globalSearch" placeholder="Search notes, forum, news..." />
      <!-- Auth area: updated to show login / username -->
      <div id="authArea" style="display:flex;align-items:center;gap:8px;margin-left:8px;">
        <!-- populated by js/auth.js -->
        <a id="authBtn" href="index.html">Login / Signup</a>
      </div>
    </nav>
  </header>

  <main class="layout">
    <aside class="sidebar">
      <ul id="tabs">
        <li data-tab="access" class="active">Access</li>
        <li data-tab="notes">Notes & Study</li>
        <li data-tab="forum">Discussion</li>
        <li data-tab="news">News</li>
        <li data-tab="schedule">Schedule</li>
        <li data-tab="map">Campus Map</li>
      </ul>
    </aside>

    <section class="content">
      <!-- Access -->  
      <section id="access" class="tab active">
        <h2>Quick Access</h2>
        <p>Open common college tools from one place.</p>
        <div class="card-grid" id="accessLinks">
          <div class="card" id="globalLinks" style="padding:10px;">
            <strong>Quick Links</strong>
            <div id="globalLinksContainer" style="display:flex;flex-wrap:wrap;gap:8px;margin-top:8px"></div>

            <!-- Admin-only section (hidden by JS for non-admins) -->
            <div id="adminGlobalLinks" style="margin-top:10px;display:none;">
              <button id="addGlobalLinkBtn">+ Add Global Link</button>
            </div>
          </div>

  
            <div class="card" id="personalCard" style="padding:10px;">
              <strong>Your Links</strong>
              <div id="personalLinksContainer" style="margin-top:8px">
                <!-- Populated by js/script.js (personal links only) -->
              </div>
              <div style="margin-top:10px">
                <button id="addAccessBtn">+ Add Link</button>
              </div>
            </div>
        </div>
      </section>

      <!-- Notes -->
      <section id="notes" class="tab">
        <h2>Notes & Study Materials</h2>
        <div class="card">
          <form id="uploadForm">
              <label>Subject
                <input name="subject" id="noteSubject" placeholder="e.g., Data Structures" required />
              </label>
              <label>Title
                <input name="title" id="noteTitle" placeholder="Lecture 05 - Trees" required />
              </label>
              <label  style="display:none">File
                <input type="file" id="noteFile" />
              </label>
              <label>Drive Link 
                <input type="url" id="noteDriveLink" placeholder="https://drive.google.com/..." />
              </label>
              <div class="row">
                <button type="submit">Upload Notes</button>
                <button type="button" id="importSampleNotes"  style="display:none">Import Sample Notes</button>
              </div>
            </form>
        </div>

        <h3>Your Notes</h3>
        <div id="notesList" class="list"></div>
      </section>

      <!-- Forum -->
      <section id="forum" class="tab">
        <h2>Discussion Forum</h2>
        <div class="card">
          <form id="postForm">
            <input id="postAuthor" placeholder="Your name" required />
            <input id="postTopic" placeholder="Topic (e.g., Group Project)" required />
            <textarea id="postContent" placeholder="Write your message..." rows="4" required></textarea>
            <div class="row">
              <button type="submit">Post</button>
              <button type="button" id="clearForumBtn">Clear Forum (dev)</button>
            </div>
          </form>
        </div>

        <div id="posts" class="list"></div>
      </section>
      

      <!-- News -->
      <section id="news" class="tab">
        <h2>News & Announcements</h2>
        <div class="card">
          <form id="newsForm">
            <input id="newsTitle" placeholder="Title" required />
            <input id="newsTag" placeholder="Tag (e.g., Placement)" />
            <select id="newsBranch" required>
                <option value="all">All Branches</option>
                <option value="cse">Computer Engineering</option>
                <option value="me">Mechanical Engineering</option>
                <option value="ee">Electrical Engineering</option>
                <option value="ce">Civil Engineering</option>
            </select>
            <textarea id="newsBody" placeholder="Short summary" rows="3" required></textarea>
            <div class="row">
              <button type="submit">Publish</button>
              <button type="button" id="clearNewsBtn">Clear News (dev)</button>
            </div>
          </form>
        </div>
        <div class="filter-controls">
          <select id="newsFilter">
              <option value="all">All Branches</option>
              <option value="cse">Computer Engineering</option>
              <option value="me">Mechanical Engineering</option>
              <option value="ee">Electrical Engineering</option>
              <option value="ce">Civil Engineering</option>
          </select>
        </div>

        <div id="newsList" class="list"></div>
      </section>

      <!-- Schedule -->
      <section id="schedule" class="tab">
        <h2>Schedule & Events Calendar</h2>

        <!-- Branch Filter (visible to all) -->
        <div style="margin-bottom: 12px;">
          <label for="branchFilter"><strong>Filter by Branch:</strong></label>
          <select id="branchFilter" style="margin-left:6px; padding:4px 8px;">
            <option value="all">All Branches</option>
            <option value="cse">Computer</option>
            <option value="me">Mechanical</option>
            <option value="ee">Electrical</option>
            <option value="ce">Civil</option>
          </select>
        </div>

        <!-- Admin-only form -->
        <div id="adminScheduleForm" class="card" style="margin-bottom: 16px; display: none;">
          <h3>Add New Event</h3>
          <form id="addEventForm" class="row" style="flex-wrap: wrap; gap: 8px;">
            <input type="text" id="eventTitleInput" placeholder="Event title" required />
            <input type="date" id="eventDateInput" required />
            <input type="time" id="eventTimeInput" />
            <input type="text" id="eventVenueInput" placeholder="Venue (optional)" />
            <select id="eventTypeInput">
              <option value="event">Event</option>
              <option value="class">Class</option>
              <option value="exam">Exam</option>
              <option value="workshop">Workshop</option>
            </select>
            <select id="eventBranchInput">
              <option value="all">All Branches</option>
              <option value="cse">Computer</option>
              <option value="me">Mechanical</option>
              <option value="ee">Electrical</option>
              <option value="ce">Civil</option>
            </select>
            <button type="submit" style="background:#2563eb;color:white;border:none;padding:6px 12px;border-radius:8px;">Add</button>
          </form>
          <div id="eventStatusMsg" style="margin-top:8px;font-weight:500;"></div>
        </div>

        <!-- Calendar -->
        <div id="calendar" style="max-width:900px;margin:auto;"></div>
      </section>


      <!-- Map -->
      <section id="map" class="tab">
        <h2>Interactive Campus Map</h2>
        <p>Select start and destination and press "Navigate" to see animation.</p>
        <div class="map-controls card">
          <label>From
            <select id="mapFrom"></select>
          </label>
          <label>To
            <select id="mapTo"></select>
          </label>
          <div class="row">
            <button id="navigateBtn">Navigate</button>
            <button id="resetMapBtn">Reset</button>
          </div>
        </div>

        <div class="map-wrap">
          <!-- Inline SVG campus mockup -->
          <svg id="campusMap" viewBox="0 0 1000 600" preserveAspectRatio="xMidYMid meet">
            <defs>
              <style>
                .pathline { fill:none; stroke:#f63b3b; stroke-width:4; opacity:0.8 }
                .pathAnim { fill:none; stroke:#06b; stroke-width:8; stroke-linecap:round; opacity:0.9 }
              </style>
            </defs>
            <!-- background image for the campus map (put your image at images/campus-map-bg.png) -->
            <image id="campusBg" x="0" y="0" width="1000" height="600" href="images/campus-map-bg.png" preserveAspectRatio="xMidYMid meet" />

            <!-- Paths (hidden until used) -->
            <g id="pathsLayer"></g>

            <!-- Animated dot -->
            <circle id="walker" r="8" fill="#ff0066" stroke="#fff" stroke-width="2" visibility="hidden"/>
          </svg>
        </div>

        <div id="mapLegend" class="card">
          <strong>Locations:</strong> Gate, Library, Shakuntalam Hall, Auditorium/Management dept., CV RAMAN/Science Block, Cafeteria(Shri. krishan bhawan), Mechanical engineering dept., Computer engineering dept., Electrical engineering dept., Civil engineering dept., New Building, V.C. OFFICE, Administravtive, Girls hostel, Temple, Bank, Gate-2.
        </div>
      </section>
    </section>
  </main>

  <footer class="footer">
    <small>&copy; Campus Connect | J.C. Bose University Of Science & Technology, YMCA Faridabad
    <br> email- technovengers@gmail.com</small>
  </footer>

  <!-- Authentication script: manages login/signup and updates topbar -->
  <script type="module" src="js/auth-firebase.js"></script>

  <!-- add this in index.html (module loader for Firestore/Storage) -->
  <script type="module" src="js/db-firebase.js"></script>

  <!-- main site script -->
  <script src="js/script.js"></script>
    <!-- FullCalendar (keep at bottom for correct load order) -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
</body>

</html>











